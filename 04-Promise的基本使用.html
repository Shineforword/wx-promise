<!DOCTYPE html>
<html lang="zh_CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>基本使用</title>
  </head>
  <script>
    /*
      1.Promise是什么?
      抽象:js中执行异步编程的新的解决方案
      旧:纯回调的形式
      具体:语法上:Promise是一个构造函数,功能上Promise对象用来封装异步操作并可以获取其结果
     */
    /*
      2.Promise的状态
      1.pending 变为resolved
      2.pending 变为rejected
      说明:只有这两种,且一个Promise对象只能改变一次
      无论变为成功还是失败,都会有一个结果数据
      成功的结果一般称为vlaue 失败的结果一般称为reason
    */

    /*
      3.Promise 的基本流程
    */

    /* 4.Promise使用**/
    const p = new Promise((resolve, reject) => {
      //执行器函数
      // 执行异步任务
      setTimeout(() => {
        const time = Date.now();
        // 奇数
        if (time % 2 === 1) {
          //如果成功 调用resolve(value)
          resolve('成功的数据' + time);
        } else {
          //如果失败 调用reject(reason)
          reject('失败数据' + time);
        }
      }, 1000);
    });
    p.then(
      // 接收数据
      // onResolved
      (value) => {
        console.log('成功的回调', value);
      },
      // onRejected
      (reason) => {
        console.log('失败的回调', reason);
      }
    );
  </script>
  <body></body>
</html>
